<!DOCTYPE html>
<html>
<head>
    <title>Extension Test Page</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { background: #d4edda; border-color: #c3e6cb; }
        .warning { background: #fff3cd; border-color: #ffeaa7; }
        .error { background: #f8d7da; border-color: #f5c6cb; }
        .file-list { background: #f8f9fa; padding: 10px; border-radius: 3px; font-family: monospace; }
        pre { background: #f8f9fa; padding: 10px; border-radius: 3px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>üîç Google Meet Transcript Capturer - Extension Test</h1>
    
    <div class="test-section success">
        <h2>‚úÖ Extension Structure Check</h2>
        <p>This page helps verify that your extension files are properly set up.</p>
    </div>

    <div class="test-section">
        <h2>üìÅ Required Files</h2>
        <div class="file-list">
            <div id="manifest-check">Checking manifest.json...</div>
            <div id="content-check">Checking content.js...</div>
            <div id="popup-html-check">Checking popup.html...</div>
            <div id="popup-js-check">Checking popup.js...</div>
            <div id="background-check">Checking background.js...</div>
        </div>
    </div>

    <div class="test-section">
        <h2>üé® Icon Files</h2>
        <div class="file-list">
            <div id="icon16-check">Checking icon16.png...</div>
            <div id="icon48-check">Checking icon48.png...</div>
            <div id="icon128-check">Checking icon128.png...</div>
        </div>
        <p><em>Note: If icons are missing, use create_icons.html to generate them.</em></p>
    </div>

    <div class="test-section">
        <h2>üìã Installation Steps</h2>
        <ol>
            <li>Open Chrome and go to <code>chrome://extensions/</code></li>
            <li>Enable "Developer mode" (toggle in top right)</li>
            <li>Click "Load unpacked"</li>
            <li>Select the extension directory</li>
            <li>Verify the extension appears in the list</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>üéØ Usage Instructions</h2>
        <ol>
            <li>Navigate to <a href="https://meet.google.com" target="_blank">meet.google.com</a></li>
            <li>Join or start a meeting</li>
            <li>Click the extension icon in your toolbar</li>
            <li>Click "Start Capturing"</li>
            <li>A transcript window should appear on the page</li>
        </ol>
    </div>

    <div class="test-section warning">
        <h2>‚ö†Ô∏è Important Notes</h2>
        <ul>
            <li>Live captions must be enabled in Google Meet for the extension to work</li>
            <li>The extension only works on meet.google.com</li>
            <li>You may need to refresh the page after installing the extension</li>
            <li>Check Chrome DevTools console for any error messages</li>
        </ul>
    </div>

    <script>
        // Check for required files
        const requiredFiles = [
            'manifest.json',
            'content.js', 
            'popup.html',
            'popup.js',
            'background.js'
        ];

        const iconFiles = [
            'icon16.png',
            'icon48.png',
            'icon128.png'
        ];

        function checkFile(filename, elementId) {
            fetch(filename)
                .then(response => {
                    if (response.ok) {
                        document.getElementById(elementId).innerHTML = `‚úÖ ${filename} - Found`;
                    } else {
                        document.getElementById(elementId).innerHTML = `‚ùå ${filename} - Missing`;
                    }
                })
                .catch(() => {
                    document.getElementById(elementId).innerHTML = `‚ùå ${filename} - Error loading`;
                });
        }

        // Check all required files
        requiredFiles.forEach(file => {
            const elementId = file.replace('.', '-').replace('-', '-check');
            checkFile(file, elementId);
        });

        // Check icon files
        iconFiles.forEach(file => {
            const elementId = file.replace('.', '-').replace('-', '-check');
            checkFile(file, elementId);
        });
    </script>
</body>
</html>